<!--
  Example launch file for octomap_server mapping:
  Listens to incoming PointCloud2 data and incrementally builds an octomap.
  The data is sent out in different representations.
  Copy this file into your workspace and adjust as needed, see
  www.ros.org/wiki/octomap_server for details
-->
<launch>

	<node pkg="rraaa" type="node_carla.py" name="carla_node" output="screen" />


	<node pkg="rraaa" type="node_input_display.py" name="display_node" output="screen" />

	<node pkg="octomap_server" type="octomap_server_node" name="octomap_server">
		<param name="resolution" value="0.5" />
		<param name="latch" type="bool" value="false"/>

		<param name="frame_id" type="string" value="map" />
		<param name="base_frame_id" type="string" value="map" />

		<param name="sensor_model/max_range" value="50.0" />

		<!--
		<param name="filter_ground" type="bool" value="true" />
		<param name="ground_filter/distance" type="double" value="0.5" />
    	<param name="ground_filter/plane_distance" type="double" value="0.7" />
		<param name="ground_filter/angle" type="double" value="1" />
		-->
		<param name="occupancy_min_z" type="double" value="3.0" />
    	<param name="occupancy_max_z" type="double" value="200.0" />

		<remap from="cloud_in" to="/carla_node/lidar_point_cloud" />
	</node>

	<node type="rviz" name="rviz" pkg="rviz" args="-d $(find rraaa)/rviz_settings/octomap_navi.rviz" />

	<node pkg="rraaa" type="converter" name="converter_node" />

	<!-- Vehicle parameters -->
	<arg name="vehicle" value="guam"/>

	<param name="vehicle" type="string" value="$(arg vehicle)"/>
	<param name="/$(arg vehicle)/plot" type="bool" value="False"/>
	<param name="/$(arg vehicle)/save_video" type="bool" value="False"/>
	<node pkg="rraaa" type="node_vehicle.py" name="$(arg vehicle)" output="screen" />

	<!-- Planner parameters -->
	<!-- <node pkg="rraaa" type="node_static_landing_planner.py" name="planner" output="screen" /> -->

	<!-- Target point ROS node -->
	<!-- <node pkg="rraaa" type="node_target.py" name="target" output="screen"/> -->

</launch>